stages:
 - build

build-ubuntu-lts:
  image: ubuntu:16.04
  stage: build
  before_script:
    - apt-get update
    - apt-get install -q -y meson valac gettext itstool libgtk-3-dev libgusb-dev libcolord-dev libpackagekit-glib2-dev libwebp-dev libsane-dev
  script:
    - meson _build
    - ninja -C _build install

build-ubuntu-latest:
  image: ubuntu:17.10
  stage: build
  before_script:
    - apt-get update
    - apt-get install -q -y meson valac gettext itstool libgtk-3-dev libgusb-dev libcolord-dev libpackagekit-glib2-dev libwebp-dev libsane-dev
  script:
    - meson _build
    - ninja -C _build install

build-fedora:
  image: fedora:27
  stage: build
  before_script:
    - dnf install -y meson valac gettext itstool gtk3-devel libgusb-devel colord-devel PackageKit-glib2-devel libwebp-devel sane-backends-devel
  script:
    - meson _build
    - ninja -C _build install
